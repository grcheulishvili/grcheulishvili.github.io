<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>user@cybrealm:~$</title>
    <link>http://localhost:1313/archive/raw-notes-sqli/</link>
    <description>Recent content on user@cybrealm:~$</description>
    <generator>Hugo -- gohugo.io</generator>
      <language>en-us</language><atom:link href="http://localhost:1313/archive/raw-notes-sqli/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title></title>
      <link>http://localhost:1313/archive/raw-notes-sqli/1e1-sql-injection-vulnerability-allowing-retrieval-of-hidden-data-portswigger-lab/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>

      <guid>http://localhost:1313/archive/raw-notes-sqli/1e1-sql-injection-vulnerability-allowing-retrieval-of-hidden-data-portswigger-lab/</guid>
      <description>&lt;h1 id=&#34;1e1---sql-injection-vulnerability-allowing-retrieval-of-hidden-data-portswigger-lab&#34;&gt;
  1e1 - SQL injection vulnerability allowing retrieval of hidden data [PortSwigger Lab]
  &lt;a href=&#34;#1e1---sql-injection-vulnerability-allowing-retrieval-of-hidden-data-portswigger-lab&#34; class=&#34;hanchor&#34; ariaLabel=&#34;Anchor&#34;&gt;&lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;This lab contains a SQL injection vulnerability in the product category filter. When the user selects a category, the application carries out a SQL query like the following:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SELECT * FROM products WHERE category = &#39;Gifts&#39; AND released = 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;To solve the lab, perform a SQL injection attack that causes the application to display one or more unreleased products.&lt;/p&gt;</description>
      <content>
&lt;h1 id=&#34;1e1---sql-injection-vulnerability-allowing-retrieval-of-hidden-data-portswigger-lab&#34;&gt;
  1e1 - SQL injection vulnerability allowing retrieval of hidden data [PortSwigger Lab]
  &lt;a href=&#34;#1e1---sql-injection-vulnerability-allowing-retrieval-of-hidden-data-portswigger-lab&#34; class=&#34;hanchor&#34; ariaLabel=&#34;Anchor&#34;&gt;&lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;This lab contains a SQL injection vulnerability in the product category filter. When the user selects a category, the application carries out a SQL query like the following:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SELECT * FROM products WHERE category = &#39;Gifts&#39; AND released = 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;To solve the lab, perform a SQL injection attack that causes the application to display one or more unreleased products.&lt;/p&gt;

&lt;h3 id=&#34;solution&#34;&gt;
  Solution:
  &lt;a href=&#34;#solution&#34; class=&#34;hanchor&#34; ariaLabel=&#34;Anchor&#34;&gt;&lt;/a&gt;
&lt;/h3&gt;

  &lt;figure class=&#34;left&#34;&gt;
    &lt;img src=&#34;http://localhost:1313/.gitbook/assets/Pasted%20image%2020240719185908.png&#34;   /&gt;
  &lt;/figure&gt;

&lt;p&gt;So taking this application into BurpSuite and selecting a category &amp;ldquo;Pets&amp;rdquo; gives me the following request&lt;/p&gt;
&lt;p&gt;&lt;code&gt;GET /filter?category=Pets HTTP/2&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;So what should I inject here to cause the following SQL query to malfunction?&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SELECT * FROM products WHERE category = &#39;Pets&#39; AND released = 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;So basically, modifying the original &lt;code&gt;GET /filter?category=Pets HTTP/2&lt;/code&gt; to &lt;code&gt;GET /filter?category=Pets&#39;+OR+1=1--&#39; HTTP/2&lt;/code&gt; causes to perform the following SQL query&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SELECT * FROM products WHERE category = &#39;Pets&#39; OR 1=1-- AND released = 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;meaning that everything will be displayed since &lt;code&gt;1=1&lt;/code&gt; is TRUE and after that everything is ignored.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Imagine another scenario where an application lets user submit their credentials &lt;code&gt;wiener:peter&lt;/code&gt;. SQL query might look like this&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SELECT * FROM users WHERE username = &#39;wiener&#39; AND password = &#39;bluecheese&#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;if the query returns the details the login was seccessful. otherwise, it rejected.&lt;/p&gt;
&lt;p&gt;an attacker might be able to login as any user without the need for a password. this can be done using &lt;code&gt;--&lt;/code&gt; sequence in &lt;code&gt;WHERE&lt;/code&gt; clause where password is checked. for example submitting the username &lt;code&gt;wiener&#39;--&lt;/code&gt; would produce the following SQL query&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SELECT * FROM users WHERE username = &#39;wiener&#39;--&#39; AND password = &#39;&#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;successfully logging in a user.&lt;/p&gt;
</content>
    </item>
    <item>
      <title></title>
      <link>http://localhost:1313/archive/raw-notes-sqli/1e2-sql-injection-vulnerability-allowing-login-bypass-portswigger-lab/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>

      <guid>http://localhost:1313/archive/raw-notes-sqli/1e2-sql-injection-vulnerability-allowing-login-bypass-portswigger-lab/</guid>
      <description>&lt;h1 id=&#34;1e2---sql-injection-vulnerability-allowing-login-bypass-portswigger-lab&#34;&gt;
  1e2 - SQL injection vulnerability allowing login bypass [PortSwigger Lab]
  &lt;a href=&#34;#1e2---sql-injection-vulnerability-allowing-login-bypass-portswigger-lab&#34; class=&#34;hanchor&#34; ariaLabel=&#34;Anchor&#34;&gt;&lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;This lab contains a SQL injection vulnerability in the login function.&lt;/p&gt;
&lt;p&gt;To solve the lab, perform a SQL injection attack that logs in to the application as the &lt;code&gt;administrator&lt;/code&gt; user.&lt;/p&gt;

&lt;h3 id=&#34;solution&#34;&gt;
  Solution:
  &lt;a href=&#34;#solution&#34; class=&#34;hanchor&#34; ariaLabel=&#34;Anchor&#34;&gt;&lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;So basically moving to login page and making a request with random credentials e.g &lt;code&gt;administrator:1234&lt;/code&gt; produces the following request&lt;/p&gt;
&lt;p&gt;&lt;code&gt;csrf=fa4Q5v3cgV1j8b53G5zEr6Q45BQUFKfA&amp;amp;username=administrator&amp;amp;password=1234&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;all we need to do is add &lt;code&gt;&#39;--&lt;/code&gt; after administrator. which successfully lets us in as an administrator.&lt;/p&gt;</description>
      <content>
&lt;h1 id=&#34;1e2---sql-injection-vulnerability-allowing-login-bypass-portswigger-lab&#34;&gt;
  1e2 - SQL injection vulnerability allowing login bypass [PortSwigger Lab]
  &lt;a href=&#34;#1e2---sql-injection-vulnerability-allowing-login-bypass-portswigger-lab&#34; class=&#34;hanchor&#34; ariaLabel=&#34;Anchor&#34;&gt;&lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;This lab contains a SQL injection vulnerability in the login function.&lt;/p&gt;
&lt;p&gt;To solve the lab, perform a SQL injection attack that logs in to the application as the &lt;code&gt;administrator&lt;/code&gt; user.&lt;/p&gt;

&lt;h3 id=&#34;solution&#34;&gt;
  Solution:
  &lt;a href=&#34;#solution&#34; class=&#34;hanchor&#34; ariaLabel=&#34;Anchor&#34;&gt;&lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;So basically moving to login page and making a request with random credentials e.g &lt;code&gt;administrator:1234&lt;/code&gt; produces the following request&lt;/p&gt;
&lt;p&gt;&lt;code&gt;csrf=fa4Q5v3cgV1j8b53G5zEr6Q45BQUFKfA&amp;amp;username=administrator&amp;amp;password=1234&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;all we need to do is add &lt;code&gt;&#39;--&lt;/code&gt; after administrator. which successfully lets us in as an administrator.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;I&amp;rsquo;ve solved around 20 PortSwigger labs at the time of writing. So the things I&amp;rsquo;ve further learned is mainly related to BurpSuite. so having a good knowledge of that is essential.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve got a fairly good grasp of Access Control vulnerabilities at this point.&lt;/p&gt;
</content>
    </item>
  </channel>
</rss>
